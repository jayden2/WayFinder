$(document).ready(function(){function logState(logType){var logText;"newLayer"==logType&&(logText="New Layer Created",updateLog(logText)),"layerNameChanged"==logType&&logFrom!=logTo&&(logText=logFrom+" layer name has changed to "+logTo,updateLog(logText))}function updateLog(logText){var newEntry=$("<li>"+logText+"</li>");$(".log ul").prepend(newEntry),$(".log li:nth-last-child(1)").remove()}var logFrom,logTo;$(".tools li").click(function(e){e.preventDefault(),$(".tools li.active").removeClass("active"),$(this).addClass("active")}),$(document).on("click",".layers li",function(e){e.preventDefault(),$(".layers li.active").removeClass("active"),$(this).addClass("active")}),$(".newLayer").click(function(e){e.preventDefault();var layerAmount=$(".layers li").length+1,newLayer=$('<li role="presentation"><a href="#"><input type="text" value="'+layerAmount+'" disabled="disabled"></a></li>');$(".layers ul").append(newLayer),logState("newLayer")}),$(document).on("dblclick",".layers li",function(){$("input",this).removeAttr("disabled"),$("input",this).focus(),$("input",this).select(),logFrom=$("input",this).val()}),$(document).on("blur",".layers input",function(){$(this).attr("disabled",!0),logTo=$(this).val(),logState("layerNameChanged")}),$(".filterSelection a").click(function(e){e.preventDefault(),$(".filterText").text(this.innerHTML)}),$(".tableNav li").click(function(e){e.preventDefault(),$(".tableNav li.active").removeClass("active"),$(this).addClass("active")})});